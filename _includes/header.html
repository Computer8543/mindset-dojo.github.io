{%- comment -%} Normalize current/home paths for reliable comparison {%- endcomment -%}
{%- assign current_norm = page.url | replace:'/index.html','/' | relative_url | append:'/' -%}
{%- assign home_path    = '/' | relative_url -%}
{%- assign home_norm    = home_path | append:'/' -%}

<header>
    {%- if current_norm == home_norm -%}
        <a href="{{ home_path }}" aria-current="page">
    {%- else -%}
        <a href="{{ home_path }}">
    {%- endif -%}
            <img
                src="{{ '/assets/mindset-dojo-logo.png' | relative_url }}"
                alt="Mindset Dojo Logo"
                width="292"
                height="80"
                decoding="async"
                fetchpriority="high">
        </a>

    <nav id="Menu">
        <ul role="menu">
            {%- for item in site.header_links -%}
                {%- assign href_path = item.href | replace:'/index.html','/' | relative_url -%}
                {%- assign href_norm = href_path | append:'/' -%}
                <li role="presentation">
                    {%- if current_norm == href_norm -%}
                        <a href="{{ href_path }}" role="menuitem" aria-current="page">{{ item.label }}</a>
                    {%- else -%}
                        <a href="{{ href_path }}" role="menuitem">{{ item.label }}</a>
                    {%- endif -%}
                </li>
            {%- endfor -%}
        </ul>

        <button aria-label="Menu Toggle" aria-expanded="false" aria-controls="Menu" aria-haspopup="true">
            <span class="bar bar1"></span>
            <span class="bar bar2"></span>
            <span class="bar bar3"></span>
            <span class="bar bar4"></span>
        </button>
    </nav>
</header>
