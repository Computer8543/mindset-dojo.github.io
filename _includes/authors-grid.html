{%- comment -%}
authors-grid.html  
──────────────────
Renders a grid of active authors ordered by:
  1. Belt level (highest first)
  2. Join date (earliest first)

Data Source:
  site.data.authors.profiles
  site.data.authors.avatars

Each entry is rendered with `_includes/member.html`.

Usage:
  {% include authors-grid.html %}
{%- endcomment -%}

<div class="md-authors">
  {%- assign profiles = site.data.authors.profiles -%}
  {%- assign avatars  = site.data.authors.avatars -%}
  {%- assign entries  = "" | split: "|" -%}

  {%- comment -%}
    1) Build sortable list of active authors
       Format: [padded -belt]|[join_date]|[key]
  {%- endcomment -%}
  {% for pair in profiles %}
    {% assign key = pair[0] %}
    {% assign member = pair[1] %}
    {% if member.active %}
      {%- assign neg_belt = member.belt_level | times: -1 | plus: 1000 | prepend: "0000" | slice: -4, 4 -%}
      {% capture entry %}{{ neg_belt }}|{{ member.join_date }}|{{ key }}{% endcapture %}
      {% assign entries = entries | push: entry %}
    {% endif %}
  {% endfor %}

  {%- comment -%}
    2) Sort by belt_level DESC, then join_date ASC
  {%- endcomment -%}
  {% assign sorted_entries = entries | sort %}

  {%- comment -%}
    3) Render each profile card
  {%- endcomment -%}
  {% for entry in sorted_entries %}
    {% assign parts  = entry | split: "|" %}
    {% assign key    = parts[2] %}
    {% assign member = profiles[key] %}
    {% assign avatar = avatars[key] %}
    {% include member.html member=member avatar=avatar %}
  {% endfor %}
</div>
