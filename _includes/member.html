{%- comment -%}
  _includes/member.html
  Expects:
    include.member → YAML object (profile data)
    include.slug   → string identifier (e.g. "bruce-lee")
{%- endcomment -%}

<section class="md-member-card">
  {% assign avatar = site.data.members.avatars[include.slug] %}
  {% if avatar %}
    <img
      src="data:{{ avatar.type }};base64,{{ avatar.b64 | strip_newlines | strip }}"
      alt="{{ include.member.name }}"
      width="100"
      height="100"
    />
  {% endif %}

  <h2>{{ include.member.name }}</h2>

  {%- if include.member.linkedin or include.member.belt_level -%}
  <div class="md-group">
    {% if include.member.linkedin %}
      <a href="{{ include.member.linkedin }}" target="_blank" aria-label="LinkedIn">
        {% include icons/linkedin.svg class="md-icon-svg" %}
      </a>
    {% endif %}
    {%- if include.member.belt_level -%}
      {% assign belt_level = include.member.belt_level | plus: 0 %}
      {% assign level = site.data.program.levels | where: "level", belt_level | first %}
      {% include icons/belt.svg
        class="md-belt-svg"
        color=level.color
        title=level.label %}
    {%- endif -%}

  </div>
  {% endif %}

  {% if include.member.links %}
    <ul>
      {% for link in include.member.links %}
        <li><a href="{{ link.url }}">{{ link.label }}</a></li>
      {% endfor %}
    </ul>
  {% endif %}
</section>

