
{%- comment -%}
  include/member.html
  Expects:
    include.member   → the YAML object
    include.slug     → "jeremy-mcmillan" etc.
{%- endcomment -%}

<section>
  {%- capture slug -%}
    {% ../_data/members/profiles/{{ slug }}.yaml %}
  {%- endcapture -%}
  {%- capture raw_b64 -%}
    {% ../_data/members/avatars/{{ include.slug }}.b64 %}
  {%- endcapture -%}

  {%- assign b64 = raw_b64
       | replace: '\n',''
       | replace: '\r',''
       | strip
  -%}

  <img
    src="data:image/jpeg;base64,{{ b64 }}"
    width="100"
    height="100"
    alt="{{ include.member.name }}"
  />
  <h2>{{ include.member.name }}</h2>

        {% if member.linkedin or member.belt_level %}
        <div class="md-group">
          {% if member.linkedin %}
            <a href="{{ member.linkedin }}" target="_blank" aria-label="LinkedIn">
              {% include icons/linkedin.svg class="md-icon-svg" %}
            </a>
          {% endif %}

          {% if member.belt_level %}
            {% assign level = site.data.belts[member.belt_level] %}
            {% include icons/belt.svg
              class="md-belt-svg"
              color=level.color
              title=level.label %}
          {% endif %}
        </div>
        {% endif %}

        {% if member.links %}
        <ul>
          {% for link in member.links %}
          <li><a href="{{ link.url }}">{{ link.label }}</a></li>
          {% endfor %}
        </ul>
        {% endif %}
</section>

