{%- comment -%}
list section

data:
  label: string, optional
  items: array of:
    - string
    - { label: string, url?: string, id?: string }

Behavior:
  - If url starts with "/", use relative_url.
  - If external url, open in new tab with rel security.
  - If no url but label exists, render plain text (and set <li id="{{ id }}"> if provided).
{%- endcomment -%}

{%- assign D = section.data -%}
{%- if D.items and D.items.size > 0 -%}
<section class="md-flow">
  {%- if D.label -%}<h2>{{ D.label }}</h2>{%- endif -%}
  <ul>
    {%- for it in D.items -%}
      {%- if it.url and it.url | slice: 0, 1 == "/" -%}
        <li id="{{ it.id | slugify }}">
          <a href="{{ it.url | relative_url }}">{{ it.label }}</a>
        </li>
      {%- elsif it.url and it.label -%}
        <li id="{{ it.id | slugify }}">
          <a href="{{ it.url }}" target="_blank" rel="noopener noreferrer">{{ it.label }}</a>
        </li>
      {%- elsif it.label -%}
        <li id="{{ it.id | slugify }}">
          {{ it.label }}
        </li>
      {%- else -%}
        <li>{{ it }}</li>
      {%- endif -%}
    {%- endfor -%}
  </ul>
</section>
{%- endif -%}
